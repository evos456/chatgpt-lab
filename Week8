pip install googletrans==4.0.0-rc1
pip install deep-translator
from deep_translator import GoogleTranslator

def translate_message(message, src_lang, dest_lang):
    """
    Translates a message from source language to destination language.
    
    :param message: str, the message to translate
    :param src_lang: str, source language code (e.g., 'en' for English)
    :param dest_lang: str, destination language code (e.g., 'fr' for French)
    :return: str, translated message
    """
    try:
        translated = GoogleTranslator(source=src_lang, target=dest_lang).translate(message)
        return translated
    except Exception as e:
        return f"Error: {e}"

# Simulate a cross-lingual conversation
def cross_lingual_chat():
    print("Cross-Lingual Chat:")
    print("Type 'exit' to quit.\n")
    
    src_lang = input("Enter your language code (e.g., 'en' for English): ").strip()
    dest_lang = input("Enter the recipient's language code (e.g., 'es' for Spanish): ").strip()
    
    while True:
        user_message = input("\nYou: ")
        if user_message.lower() == 'exit':
            print("Exiting chat.")
            break
        
        translated_message = translate_message(user_message, src_lang, dest_lang)
        print(f"Translated ({dest_lang}): {translated_message}")
        
        # Simulating recipient's response (reverse translation for demonstration)
        response = input("\nRecipient: ")
        if response.lower() == 'exit':
            print("Recipient exited chat.")
            break
        
        translated_response = translate_message(response, dest_lang, src_lang)
        print(f"Translated ({src_lang}): {translated_response}")

# Run the chat
cross_lingual_chat()
